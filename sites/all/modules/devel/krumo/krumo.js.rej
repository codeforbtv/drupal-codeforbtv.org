***************
*** 54,60 ****
    var ul = el.parentNode.getElementsByTagName('ul');
    for (var i=0; i<ul.length; i++) {
      if (ul[i].parentNode.parentNode == el.parentNode) {
-       ul[i].parentNode.style.display = (ul[i].parentNode.style.display == 'none')
          ? 'block'
          : 'none';
        }
--- 54,60 ----
    var ul = el.parentNode.getElementsByTagName('ul');
    for (var i=0; i<ul.length; i++) {
      if (ul[i].parentNode.parentNode == el.parentNode) {
+       ul[i].parentNode.style.display = (window.getComputedStyle(ul[i].parentNode).display == 'none')
          ? 'block'
          : 'none';
        }
